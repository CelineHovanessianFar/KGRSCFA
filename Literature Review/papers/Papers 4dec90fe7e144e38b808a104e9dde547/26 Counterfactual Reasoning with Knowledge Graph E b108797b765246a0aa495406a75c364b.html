<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>26: Counterfactual Reasoning with Knowledge Graph Embeddings</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-transparentGray { background-color: rgba(227, 226, 224, 0); }
.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="b108797b-7652-46a0-aa49-5406a75c364b" class="page sans"><header><div class="page-header-icon undefined"><img class="icon" src="https://www.notion.so/icons/attachment_lightgray.svg"/></div><h1 class="page-title">26: Counterfactual Reasoning with Knowledge Graph Embeddings</h1><p class="page-description"></p></header><div class="page-body"><p id="cb2ce7a5-1972-4cd1-8964-0ef0749c078a" class="">Features:</p><p id="21ad4554-7957-47e7-ad6f-d44f4f200b85" class="">
</p><p id="5afeef02-29be-4370-888f-7bf7b010cfef" class="">Questions:</p><p id="44d06c90-2ca0-4e20-86e8-8af0981fb980" class="">
</p><hr id="f6649d2a-3ceb-4a03-bdd1-05de314af345"/><p id="8be1e601-3aa9-419e-83cb-5a81c3235f17" class="">
</p><hr id="0ae42f00-fa17-4b1f-a62e-f44fce1a78af"/><h2 id="2f4d19f9-5fb5-4d46-b5f6-21e4ff526c3d" class="">Genearal Summary</h2><p id="7778a2f9-1746-4c5c-8b8f-5db21b6dc408" class="">This paper introduces a new task called <mark class="highlight-orange_background">CounterFactual Knowledge Graph Reasoning (CFKGR)</mark>, which links knowledge graph completion (KGC) with counterfactual reasoning. Here’s a detailed summary of the paper&#x27;s main points:</p><ol type="1" id="e24bf081-1126-4b91-ac7a-00a888bbaf64" class="numbered-list" start="1"><li><strong>Background and Motivation</strong>:<ul id="348e5253-e0fd-44be-be26-8e5c3af050dd" class="bulleted-list"><li style="list-style-type:disc"><strong>Knowledge Graph Embeddings (KGEs)</strong>: These were initially designed to infer true but missing facts in incomplete knowledge graphs (KGs).</li></ul><ul id="49bcc3c1-4777-4b45-a121-7328ca40888a" class="bulleted-list"><li style="list-style-type:disc"><strong>Counterfactual Reasoning</strong>: This involves reasoning about hypothetical scenarios and their effects on the current state of the world. It is a key aspect of human cognition and is increasingly relevant for AI systems.</li></ul></li></ol><ol type="1" id="8374b431-6685-4547-8869-827a8f63cfb5" class="numbered-list" start="2"><li><strong>CFKGR Task</strong>:<ul id="72cb3ce6-8377-4005-ac2f-f7bacc19543f" class="bulleted-list"><li style="list-style-type:disc">The CFKGR task models the original world state as a knowledge graph. <mark class="highlight-orange_background">Hypothetical scenarios are represented as edges added to the graph, and plausible changes are inferred from logical rules.</mark></li></ul><ul id="3e204456-9578-4489-8ac1-01ae87b5e13b" class="bulleted-list"><li style="list-style-type:disc">The goal is to<mark class="highlight-orange_background"> classify the validity of facts given these hypothetical scenarios.</mark></li></ul></li></ol><ol type="1" id="4a51f398-f4fe-448e-982b-82f400140653" class="numbered-list" start="3"><li><strong>Dataset Creation</strong>:<ul id="d03443eb-461b-4d3f-a0f4-a02f611408f9" class="bulleted-list"><li style="list-style-type:disc">The authors created benchmark datasets for CFKGR, containing diverse hypothetical scenarios and plausible changes to the original knowledge graph.</li></ul><ul id="daa96101-e7af-491e-b0e1-cc21d81cd0e1" class="bulleted-list"><li style="list-style-type:disc">These datasets are partially human-verified to ensure the plausibility of the changes.</li></ul></li></ol><ol type="1" id="bd689b84-d50e-43b9-b842-8a60cad22fb6" class="numbered-list" start="4"><li><strong>COULDD Method</strong>:<ul id="2459ee3e-2f0a-4302-b230-529fb81b5f7a" class="bulleted-list"><li style="list-style-type:disc">The paper introduces COULDD (COUnterfactual Reasoning with KnowLedge Graph EmbeDDings), a method for adapting existing KGEs to accommodate hypothetical scenarios.</li></ul><ul id="591b44b5-6620-4f6f-8eaf-a64598a3b6af" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-orange_background">COULDD updates the embeddings with counterfactual information and stops training once the hypothetical scenario is classified as valid.</mark></li></ul></li></ol><ol type="1" id="711e1fac-b212-42df-8b15-95d404ccb3bb" class="numbered-list" start="5"><li><strong>Evaluation</strong>:<ul id="f29b78de-8510-4b45-9268-1ff53358b3f6" class="bulleted-list"><li style="list-style-type:disc">The authors evaluate COULDD on their benchmark datasets and compare its performance with that of pre-trained KGEs and ChatGPT.</li></ul><ul id="5ac4fe09-4eb7-4929-862e-40691fd68841" class="bulleted-list"><li style="list-style-type:disc">Results indicate that COULDD improves the ability of KGEs to detect plausible counterfactual changes while maintaining performance on unaffected triples.</li></ul><ul id="9d71ae0a-98c8-41b5-a55d-003b300f05a9" class="bulleted-list"><li style="list-style-type:disc">ChatGPT outperforms KGEs in detecting plausible changes but struggles with knowledge retention.</li></ul></li></ol><ol type="1" id="37896641-8ff5-45e3-bec9-2d06f663b5a8" class="numbered-list" start="6"><li><strong>Human Annotation</strong>:<ul id="e13d8b8f-503e-450c-a996-e4adda5ce073" class="bulleted-list"><li style="list-style-type:disc">The data generation process and underlying assumptions are validated through human annotation. The annotators assessed the plausibility of the generated scenarios and changes.</li></ul></li></ol><ol type="1" id="9f09188b-980b-4849-84ce-b44e9bd08807" class="numbered-list" start="7"><li><strong>Results and Findings</strong>:<ul id="73db8a7b-add1-4975-bcef-6dbac7d86149" class="bulleted-list"><li style="list-style-type:disc">KGEs adapted with COULDD show solid performance in detecting counterfactual changes.</li></ul><ul id="393a4a32-9cd7-4319-aa4e-9d9f42f7c9dc" class="bulleted-list"><li style="list-style-type:disc">ChatGPT performs better at detecting plausible additions but has poor knowledge retention, leading to mixed results when compared to human annotations.</li></ul></li></ol><ol type="1" id="a97c3a1b-70a7-4f08-beee-64f2bc283185" class="numbered-list" start="8"><li><strong>Contributions</strong>:<ul id="e9b53b8f-ce71-425d-9f0e-4c3fe28f3311" class="bulleted-list"><li style="list-style-type:disc">The paper links KGC and counterfactual reasoning, introducing a challenging task for counterfactual reasoning on KGs.</li></ul><ul id="eccac0b5-a50a-4147-8c69-06c09a86d100" class="bulleted-list"><li style="list-style-type:disc">It provides datasets and a new method (COULDD) for adapting KGEs to hypothetical scenarios.</li></ul><ul id="2696cb9b-03ea-431f-8fd2-902f24b362ae" class="bulleted-list"><li style="list-style-type:disc">The comparison with ChatGPT highlights strengths and weaknesses in current AI systems&#x27; counterfactual reasoning capabilities.</li></ul></li></ol><p id="c11fff89-168e-4cac-8f46-930e93caf976" class="">In summary, the paper presents a novel approach to combine KGC with counterfactual reasoning, provides datasets for benchmarking, and introduces COULDD to adapt KGEs for counterfactual scenarios, with comprehensive evaluations against both traditional KGEs and modern AI systems like ChatGPT.</p><hr id="8fafe48e-8a2e-42ec-8c56-a268f32bdd43"/><h2 id="335e2404-d372-479b-9f8b-0453e4261de6" class="">Technical Aspects</h2><p id="bc8aa322-c2be-40a1-94c1-6bec61a58eba" class="">Here’s an explanation of the technical aspects of their solution in more detail:</p><h3 id="87a9d43d-2647-430d-b6de-38933d613d93" class=""><strong>CFKGR Task Definition</strong></h3><ol type="1" id="4ca97e23-688e-49b8-bd6d-f83619483d1d" class="numbered-list" start="1"><li><strong>Knowledge Graph Structure</strong>:<ul id="8d07c6a4-c6d1-433a-a22f-14d8edb1983a" class="bulleted-list"><li style="list-style-type:disc">The knowledge graph <em>G</em>={<em>E</em>,<em>R</em>,<em>F</em>} consists of entities <em>E</em>, relations <em>R</em>, and facts <em>F</em>, where each fact is represented as a triple (<em>h</em>,<em>r</em>,<em>t</em>) indicating that a relation <em>r</em> holds between head entity <em>h</em> and tail entity <em>t</em>.</li></ul></li></ol><ol type="1" id="06fe2316-0428-479d-953f-1351e82d431f" class="numbered-list" start="2"><li><strong>Hypothetical Scenario</strong>:<ul id="f26020c6-3ec4-4c3c-afd4-e0c0be4a76b2" class="bulleted-list"><li style="list-style-type:disc">A hypothetical scenario is represented by a triple <em>τc</em>=(<em>h</em>,<em>r</em>,<em>t</em>) which is not originally present in <em>F</em>.</li></ul><ul id="7c9d5bc0-e992-4eaa-9102-ec38921f5aef" class="bulleted-list"><li style="list-style-type:disc">The counterfactual graph <em>Gc</em> is defined as the original graph <em>G</em> with the addition of new facts <em>F</em>+ induced by the hypothetical scenario and the removal of facts <em>F</em>− that contradict the scenario.</li></ul></li></ol><h3 id="bc9acea1-b777-482c-8874-b8fb16d8f765" class=""><strong>Dataset Creation</strong></h3><ol type="1" id="82df4899-d260-45ef-b52a-ecfd2c92019b" class="numbered-list" start="1"><li><strong>Rule Mining</strong>:<ul id="a91e38d8-8f9f-4c8d-947a-8b757aec61ae" class="bulleted-list"><li style="list-style-type:disc">Rules of the form (<em>X</em>,<em>r</em>1,<em>Y</em>)∧(<em>Y</em>,<em>r</em>2,<em>Z</em>)→(<em>X</em>,<em>r</em>3,<em>Z</em>) are mined from the knowledge graph to capture plausible patterns.<p id="1088bc3a-53bd-4f6a-b088-ce986ab7385c" class="">(𝑋,𝑟1,𝑌)∧(𝑌,𝑟2,𝑍)→(𝑋,𝑟3,𝑍)</p></li></ul><ul id="7f98feb6-78af-482c-844d-48c79fc75bcf" class="bulleted-list"><li style="list-style-type:disc">These rules help generate hypothetical scenarios and their implications.</li></ul></li></ol><ol type="1" id="baa57175-ec54-40e2-9cd9-8e1d6b70d6d5" class="numbered-list" start="2"><li><strong>Generating Scenarios and Inferences</strong>:<ul id="5fda4a7e-6840-4aba-af99-78691a8229b1" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-orange_background">For each rule, the hypothetical scenarios are created by altering facts to trigger the rule.</mark></li></ul><ul id="f6600be3-a516-4ce9-8896-f0f00e2f4b14" class="bulleted-list"><li style="list-style-type:disc">Plausible additions <em>F</em>+ are inferred from these rules, and random corruptions are created for negative sampling.<p id="a5a86334-3da4-48c7-b133-8a8cfe4f7e6c" class="">𝐹+</p></li></ul></li></ol><h3 id="56cebb49-a9b9-4384-83f5-cdcf40e53d8d" class=""><strong>COULDD Method</strong></h3><ol type="1" id="eb53a668-74f4-44ca-88ab-3b38f456b724" class="numbered-list" start="1"><li><strong>Initialization</strong>:<ul id="ae2a2348-aef5-4d22-8382-77ef9afe7e61" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-orange_background">COULDD starts with pre-trained KGEs, which have embeddings for entities and relations trained on the original knowledge graph.</mark></li></ul></li></ol><ol type="1" id="37119ba4-5763-42bd-a75e-281836f76221" class="numbered-list" start="2"><li><strong>Training with Hypothetical Scenarios</strong>:<ul id="d9a33639-fc34-49df-b563-6a0e96be6443" class="bulleted-list"><li style="list-style-type:disc">For each hypothetical scenario <em>τc</em>,<mark class="highlight-orange_background"> the model fine-tunes the embeddings with a batch consisting of </mark><mark class="highlight-orange_background"><em>τc</em></mark><mark class="highlight-orange_background"> and additional randomly sampled edges from the training graph.</mark></li></ul><ul id="c8648ca2-9083-485b-8e1d-57d48528076b" class="bulleted-list"><li style="list-style-type:disc">Negative samples are generated by corrupting the head or tail of the triples in the batch.</li></ul></li></ol><ol type="1" id="d6d54d5c-d37e-436f-a4a3-5c57f811ae04" class="numbered-list" start="3"><li><strong>Objective Function</strong>:<ul id="0ecd032f-173c-498b-845a-c1d3c543c345" class="bulleted-list"><li style="list-style-type:disc">The standard cross-entropy loss is used to update the embeddings.</li></ul><ul id="5bf398f4-9e46-4993-bf71-663859ca46dc" class="bulleted-list"><li style="list-style-type:disc">Training stops once the hypothetical scenario <em>τc</em> is classified as valid according to the relation-specific threshold <em>μr</em>.</li></ul></li></ol><ol type="1" id="6518a3ad-84e9-40d3-b848-0ba9099bc47e" class="numbered-list" start="4"><li><strong>Inference</strong>:<ul id="0f6ace38-a4fd-4dce-a632-63118e677ba0" class="bulleted-list"><li style="list-style-type:disc">After updating the embeddings, the model scores the test cases associated with the hypothetical scenario to determine their plausibility.</li></ul></li></ol><h3 id="8de51b73-0cc5-4784-86fb-56e4ae39493c" class=""><strong>Evaluation Metrics</strong></h3><ol type="1" id="a53abb9c-4bfc-49c7-bb60-13b9231ddffa" class="numbered-list" start="1"><li><strong>F1 Score</strong>:<ul id="92190b74-ad16-488c-90bd-1a0bb25e8e63" class="bulleted-list"><li style="list-style-type:disc">Measures the overall predictive performance on counterfactual graphs, considering both precision and recall.</li></ul></li></ol><ol type="1" id="c9828667-1bcd-4dac-ba62-d9100e2c0677" class="numbered-list" start="2"><li><strong>Accuracy on Changed Facts</strong>:<ul id="90bcf986-0e07-4d55-8471-f0e112f3d8a1" class="bulleted-list"><li style="list-style-type:disc">Evaluates the model’s ability to predict new facts that emerge due to the hypothetical scenario.</li></ul></li></ol><ol type="1" id="c271a624-80d8-40f5-9143-5801afe1bfa2" class="numbered-list" start="3"><li><strong>F1 Score on Unchanged Facts</strong>:<ul id="2f0dc33c-5642-44cf-80c1-aa387e784f74" class="bulleted-list"><li style="list-style-type:disc">Assesses the model’s ability to retain knowledge of facts that remain unaffected by the hypothetical scenario.</li></ul></li></ol><h3 id="fe0e5d14-f5f8-4dec-b38f-a305204a8213" class=""><strong>Results and Findings</strong></h3><ol type="1" id="593a11ff-d595-413b-92df-4743a9680fa6" class="numbered-list" start="1"><li><strong>Comparison with Baseline KGEs</strong>:<ul id="182ff6d0-3bab-4aae-b266-787ead86a593" class="bulleted-list"><li style="list-style-type:disc">COULDD improves the detection of plausible counterfactual changes compared to pre-trained KGEs while maintaining performance on unchanged facts.</li></ul></li></ol><ol type="1" id="5630b80c-c4e9-4516-bac5-b40cb0a0c31e" class="numbered-list" start="2"><li><strong>Comparison with ChatGPT</strong>:<ul id="8602c57c-75ee-4a8c-93c4-c73b33fc63ad" class="bulleted-list"><li style="list-style-type:disc">ChatGPT performs better in detecting plausible changes but struggles with knowledge retention, highlighting different strengths and weaknesses compared to KGEs.</li></ul></li></ol><h3 id="91d397f8-4059-4bd5-91c6-58ffbc7db2d7" class=""><strong>Technical Summary</strong></h3><ol type="1" id="4ba8028b-81cd-47b4-bfda-07a9ce197b37" class="numbered-list" start="1"><li><strong>KGEs</strong>:<ul id="a0ead851-24f6-471d-a9fd-ef2d59512274" class="bulleted-list"><li style="list-style-type:disc">Various KGE methods like TransE, ComplEx, RESCAL, ConvE, and TuckER are used, each employing different scoring functions and optimization techniques.</li></ul></li></ol><ol type="1" id="af5b8675-3022-469f-b3c4-ec03dc4485a2" class="numbered-list" start="2"><li><strong>Training and Fine-Tuning</strong>:<ul id="a5073b2e-ed3d-418c-b585-a7c2f56fa273" class="bulleted-list"><li style="list-style-type:disc">KGEs are fine-tuned with additional samples and hypothetical scenarios using the COULDD method, leveraging cross-entropy loss and stopping criteria based on scenario validity.</li></ul></li></ol><ol type="1" id="401c7f6f-4341-406c-96b7-c2d7601c4dbd" class="numbered-list" start="3"><li><strong>Handling Hypothetical Scenarios</strong>:<ul id="7739748e-704a-4185-847d-2f4692ef5a86" class="bulleted-list"><li style="list-style-type:disc">The approach effectively adapts to hypothetical scenarios by updating embeddings, ensuring plausible inferences while retaining unaffected knowledge.</li></ul></li></ol><p id="9363ab34-b3a6-4ce8-8f2f-affbf2401611" class="">By leveraging mined rules and fine-tuning KGEs with hypothetical scenarios, COULDD demonstrates an improved capability to reason about counterfactual changes in knowledge graphs.</p><hr id="0be67183-0f18-446d-98b0-a46924e5c055"/><h2 id="23cdde39-3e3f-4c53-89e1-cb12ec43e88f" class="">Neural Model and Structural Details</h2><p id="1c24f702-18b3-4501-a6a4-ac75e9d74f04" class="">
</p><hr id="7ba27dfb-59d5-47c1-81f8-c5df8da71c09"/><h2 id="04a79252-68af-4d40-8a24-6e3828a890d4" class="">Counterfactual Concept</h2><p id="65239498-9f26-4904-87e9-06e53c118992" class=""><strong>Creating Hypothetical Scenarios</strong>:</p><ul id="6f1b7989-0dae-4b61-ba14-7207f977e04e" class="bulleted-list"><li style="list-style-type:disc">For each mined rule, hypothetical scenarios are generated by identifying existing triples that match the body of the rule and altering one of the body triples to form a new counterfactual triple <em>τc</em>.</li></ul><p id="679e622e-e97d-4b5b-89a0-fb7d11b9ff8b" class="">
</p><p id="44b2af5f-f4a4-400e-b470-395a2c66cccf" class="">
</p></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>